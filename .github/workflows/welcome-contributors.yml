name: Welcome Contributors

on:
  pull_request:
    types: [opened]
  issues:
    types: [opened]

jobs:
  welcome:
    runs-on: ubuntu-latest
    steps:
      - name: Welcome first-time contributors
        uses: actions/first-interaction@v3
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          issue-message: |
            ðŸŽ‰ Welcome to REChain Quantum-CrossAI IDE Engine!
            
            Thank you for opening your first issue. We appreciate your contribution to making our project better.
            
            Our team will review your issue shortly. In the meantime:
            - Make sure you've provided all the necessary details
            - Check if a similar issue already exists
            - Join our [Discord](https://discord.gg/rechain) for faster responses
            
            Thanks for being part of our community! ðŸš€
          pr-message: |
            ðŸŽ‰ Welcome to REChain Quantum-CrossAI IDE Engine!
            
            Thank you for your first pull request! We're excited to review your contribution.
            
            Our CI will run automated checks, and a maintainer will review your code soon.
            
            **Quick Tips:**
            - Ensure all tests pass
            - Follow our coding standards
            - Keep your PR focused and well-documented
            
            Thanks for helping build the future of blockchain development! ðŸš€

  thank-you:
    runs-on: ubuntu-latest
    if: github.event_name == 'pull_request' && github.event.action == 'closed' && github.event.pull_request.merged == true
    steps:
      - name: Thank merged contributors
        uses: actions/github-script@v7
        with:
          script: |
            const pr = context.payload.pull_request;
            
            await github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: pr.number,
              body: `ðŸŽ‰ Thank you @${pr.user.login} for your contribution! Your PR has been merged.\n\nWe appreciate your help in making REChain IDE better! ðŸš€`
            });
